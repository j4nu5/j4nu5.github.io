<!doctype html><html lang=en><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><title>Abstract Classes and Factory Design Pattern in Python - The Janus List</title><link rel=icon type=image/png href=/images/favicon-32x32.png><meta name=viewport content="width=device-width,initial-scale=1">
<meta name=description content="Abstract Classes
are one of the most useful and important concepts in Object Oriented
Programming. I&rsquo;ll attempt to illustrate their usefulness, and their usage in
Python 2.7 with the following (seemingly contrived) example:
Let us say, you want/have to implement posting updates on Facebook using
Python. Your code might look something like this:
1# Attempt 0: Bad code.
2
3def facebook_share_init(*args, **kwargs):
4    # Initialize OAuth with facebook
5    # ...
6
7def share_on_facebook(*args, **kwargs):
8    # Post to Facebook
9    # ...
It works and everyone is happy. Then one day, you decide to support posting
tweets in your application. You add the following:"><meta property="og:image" content><meta property="og:url" content="https://sinhak.dev/posts/abstract-classes-and-factory-design-pattern-in-python/"><meta property="og:site_name" content="The Janus List"><meta property="og:title" content="Abstract Classes and Factory Design Pattern in Python"><meta property="og:description" content="Abstract Classes are one of the most useful and important concepts in Object Oriented Programming. I’ll attempt to illustrate their usefulness, and their usage in Python 2.7 with the following (seemingly contrived) example:
Let us say, you want/have to implement posting updates on Facebook using Python. Your code might look something like this:
1# Attempt 0: Bad code. 2 3def facebook_share_init(*args, **kwargs): 4 # Initialize OAuth with facebook 5 # ... 6 7def share_on_facebook(*args, **kwargs): 8 # Post to Facebook 9 # ... It works and everyone is happy. Then one day, you decide to support posting tweets in your application. You add the following:"><meta property="og:locale" content="en_us"><meta property="og:type" content="article"><meta property="article:section" content="posts"><meta property="article:published_time" content="2013-12-19T00:00:00+00:00"><meta property="article:modified_time" content="2016-03-27T00:00:00+00:00"><meta property="article:tag" content="Python"><meta property="article:tag" content="Development"><meta name=twitter:card content="summary"><meta name=twitter:title content="Abstract Classes and Factory Design Pattern in Python"><meta name=twitter:description content="Abstract Classes are one of the most useful and important concepts in Object Oriented Programming. I’ll attempt to illustrate their usefulness, and their usage in Python 2.7 with the following (seemingly contrived) example:
Let us say, you want/have to implement posting updates on Facebook using Python. Your code might look something like this:
1# Attempt 0: Bad code. 2 3def facebook_share_init(*args, **kwargs): 4 # Initialize OAuth with facebook 5 # ... 6 7def share_on_facebook(*args, **kwargs): 8 # Post to Facebook 9 # ... It works and everyone is happy. Then one day, you decide to support posting tweets in your application. You add the following:"><script src=https://cdn.jsdelivr.net/npm/feather-icons/dist/feather.min.js></script><link href="https://fonts.googleapis.com/css2?family=IBM+Plex+Mono:ital,wght@1,500&display=swap" rel=stylesheet><link href="https://fonts.googleapis.com/css2?family=Fira+Sans&display=swap" rel=stylesheet><link href="https://fonts.googleapis.com/css?family=Roboto+Mono" rel=stylesheet><link rel=stylesheet type=text/css media=screen href=https://sinhak.dev/css/main.min.d7024d5ca741be75c1bf7978d2ae76f90ef47364d1e96c6aa0a5b52cfcb1b9d1.css><link id=darkModeStyle rel=stylesheet type=text/css href=https://sinhak.dev/css/dark.min.ded812873c4f1d79d101647f737849577e1d86629889962d46aa5300578d7a73.css disabled></head><body><div class=content><header><div class=main><a href=https://sinhak.dev/>The Janus List</a></div><nav><a href=/posts/>articles</a>
<a href=/about/>about</a>
| <a id=dark-mode-toggle onclick=toggleTheme()></a><script src=https://sinhak.dev/js/themetoggle.min.js></script></nav></header><main><article><div class=title><h1 class=title>Abstract Classes and Factory Design Pattern in Python</h1><div class=meta>Posted on Dec 19, 2013</div></div><section class=body><p><a href=http://en.wikipedia.org/wiki/Class_(computer_programming)#Abstract_and_concrete>Abstract Classes</a>
are one of the most useful and important concepts in Object Oriented
Programming. I&rsquo;ll attempt to illustrate their usefulness, and their usage in
Python 2.7 with the following (seemingly contrived) example:</p><p>Let us say, you want/have to implement posting updates on Facebook using
Python. Your code might look something like this:</p><div class=highlight><pre tabindex=0 style=color:#ebdbb2;background-color:#282828;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#756d59">1</span><span><span style=color:#928374;font-style:italic># Attempt 0: Bad code.</span>
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#756d59">2</span><span>
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#756d59">3</span><span><span style=color:#fe8019>def</span> <span style=color:#fabd2f>facebook_share_init</span>(<span style=color:#fe8019>*</span>args, <span style=color:#fe8019>**</span>kwargs):
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#756d59">4</span><span>    <span style=color:#928374;font-style:italic># Initialize OAuth with facebook</span>
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#756d59">5</span><span>    <span style=color:#928374;font-style:italic># ...</span>
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#756d59">6</span><span>
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#756d59">7</span><span><span style=color:#fe8019>def</span> <span style=color:#fabd2f>share_on_facebook</span>(<span style=color:#fe8019>*</span>args, <span style=color:#fe8019>**</span>kwargs):
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#756d59">8</span><span>    <span style=color:#928374;font-style:italic># Post to Facebook</span>
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#756d59">9</span><span>    <span style=color:#928374;font-style:italic># ...</span>
</span></span></code></pre></div><p>It works and everyone is happy. Then one day, you decide to support posting
tweets in your application. You add the following:</p><div class=highlight><pre tabindex=0 style=color:#ebdbb2;background-color:#282828;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#756d59">1</span><span><span style=color:#fe8019>def</span> <span style=color:#fabd2f>twitter_share_init</span>(<span style=color:#fe8019>*</span>args, <span style=color:#fe8019>**</span>kwargs):
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#756d59">2</span><span>    <span style=color:#928374;font-style:italic># Initialize OAuth with twitter</span>
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#756d59">3</span><span>    <span style=color:#928374;font-style:italic># ...</span>
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#756d59">4</span><span>
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#756d59">5</span><span><span style=color:#fe8019>def</span> <span style=color:#fabd2f>share_on_twitter</span>(<span style=color:#fe8019>*</span>args, <span style=color:#fe8019>**</span>kwargs):
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#756d59">6</span><span>    <span style=color:#928374;font-style:italic># Post to Twitter</span>
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#756d59">7</span><span>    <span style=color:#928374;font-style:italic># ...</span>
</span></span></code></pre></div><p>and the part of your code which has to figure out the appropriate sharing
function to call might look something like:</p><div class=highlight><pre tabindex=0 style=color:#ebdbb2;background-color:#282828;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#756d59">1</span><span><span style=color:#fe8019>if</span> requested_sharing_platform <span style=color:#fe8019>==</span> <span style=color:#b8bb26>&#34;facebook&#34;</span>:
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#756d59">2</span><span>    facebook_share_init(<span style=color:#fe8019>*</span>args, <span style=color:#fe8019>**</span>kwargs)
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#756d59">3</span><span>    share_on_facebook(<span style=color:#fe8019>*</span>args, <span style=color:#fe8019>**</span>kwargs)
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#756d59">4</span><span><span style=color:#fe8019>elif</span> requested_sharing_platform <span style=color:#fe8019>==</span> <span style=color:#b8bb26>&#34;twitter&#34;</span>:
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#756d59">5</span><span>    twitter_share_init(<span style=color:#fe8019>*</span>args, <span style=color:#fe8019>**</span>kwargs)
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#756d59">6</span><span>    share_on_twitter(<span style=color:#fe8019>*</span>args, <span style=color:#fe8019>**</span>kwargs)
</span></span></code></pre></div><p>Things quickly become complicated when you have to implement Google+ sharing
for example and you add two more functions and another couple of lines to the
if-elif chain.</p><p>The real fun starts however when someone else in your team decides to
copy-paste your if-elif chain and 10 days later, when you implement LinkedIn
sharing, you expand your if-elif chain, but not your colleague&rsquo;s, leading to
all kinds of problems.</p><p>The above problem can be neatly solved using Abstract Classes
(and the Factory Pattern).</p><p>A good rule of thumb in OOP is to &ldquo;program to an interface, not an
implementation&rdquo;. What this means is to create an abstraction over related
objects, that enforces a contract between the caller and the callee. For
example, consider set of classes called Cat, Lion and Dog. A cat meows, dog
barks and lion roars. But we may see these as special cases of an abstraction
called speak, which translates to roaring for lions and barking for dogs. Our
class definitions may look like:</p><div class=highlight><pre tabindex=0 style=color:#ebdbb2;background-color:#282828;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#756d59"> 1</span><span><span style=color:#fe8019>class</span> Animal(<span style=color:#fabd2f>object</span>):
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#756d59"> 2</span><span>    <span style=color:#fe8019>def</span> <span style=color:#fabd2f>speak</span>():
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#756d59"> 3</span><span>        <span style=color:#fe8019>pass</span>
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#756d59"> 4</span><span>
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#756d59"> 5</span><span><span style=color:#fe8019>class</span> Cat(Animal):
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#756d59"> 6</span><span>    <span style=color:#fe8019>def</span> <span style=color:#fabd2f>speak</span>():
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#756d59"> 7</span><span>        <span style=color:#928374;font-style:italic># Meow</span>
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#756d59"> 8</span><span>
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#756d59"> 9</span><span><span style=color:#fe8019>class</span> Dog(Animal):
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#756d59">10</span><span>    <span style=color:#fe8019>def</span> <span style=color:#fabd2f>speak</span>():
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#756d59">11</span><span>        <span style=color:#928374;font-style:italic># Bark</span>
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#756d59">12</span><span>
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#756d59">13</span><span><span style=color:#fe8019>class</span> Lion(Animal):
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#756d59">14</span><span>    <span style=color:#fe8019>def</span> <span style=color:#fabd2f>speak</span>():
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#756d59">15</span><span>        <span style=color:#928374;font-style:italic># Roar</span>
</span></span></code></pre></div><p>The problem with the above approach is that it is not enforcing. We can easily
create a class like:</p><div class=highlight><pre tabindex=0 style=color:#ebdbb2;background-color:#282828;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#756d59">1</span><span><span style=color:#fe8019>class</span> Fish(Animal):
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#756d59">2</span><span>    <span style=color:#fe8019>def</span> <span style=color:#fabd2f>swim</span>():
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#756d59">3</span><span>        <span style=color:#fe8019>...</span>
</span></span></code></pre></div><p>Callers of Cat, Dog or Lion can call the speak method without any problem but
calls to speak method of Fish instances will be delegated to the superclass,
which might be a problem in real life examples. Ideally we would want users of
our abstraction to have an iron clad contractual obligation with respect to
the methods that we have exposed. This is where abstract classes come in.</p><p>Python originally did not have support for abstract classes and some people
still consider them to be unpythonic. Python has decided to take the middle
path on this (see PEP 3119) and has added support for abstract classes using
the abc module, but has not changed the core syntax of the language.</p><p>Here is how our original problem of social sharing can be solved using abstract classes:</p><div class=highlight><pre tabindex=0 style=color:#ebdbb2;background-color:#282828;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#756d59"> 1</span><span><span style=color:#fe8019>import</span> abc
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#756d59"> 2</span><span>
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#756d59"> 3</span><span><span style=color:#fe8019>class</span> AbstractSocialShare(<span style=color:#fabd2f>object</span>):
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#756d59"> 4</span><span>    __metaclass__ <span style=color:#fe8019>=</span> abc<span style=color:#fe8019>.</span>ABCMeta
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#756d59"> 5</span><span>
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#756d59"> 6</span><span>    @abc.abstractmethod
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#756d59"> 7</span><span>    <span style=color:#fe8019>def</span> __init__(self, <span style=color:#fe8019>*</span>args, <span style=color:#fe8019>**</span>kwargs):
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#756d59"> 8</span><span>        <span style=color:#fe8019>pass</span>
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#756d59"> 9</span><span>
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#756d59">10</span><span>    @abc.abstractmethod
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#756d59">11</span><span>    <span style=color:#fe8019>def</span> <span style=color:#fabd2f>share</span>(self, <span style=color:#fe8019>*</span>args, <span style=color:#fe8019>**</span>kwargs):
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#756d59">12</span><span>        <span style=color:#fe8019>pass</span>
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#756d59">13</span><span>
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#756d59">14</span><span>
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#756d59">15</span><span><span style=color:#fe8019>class</span> FacebookShare(AbstractSocialShare):
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#756d59">16</span><span>    <span style=color:#fe8019>def</span> __init__(self, <span style=color:#fe8019>*</span>args, <span style=color:#fe8019>**</span>kwargs):
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#756d59">17</span><span>        <span style=color:#928374;font-style:italic># Initialize Facebook OAuth</span>
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#756d59">18</span><span>        <span style=color:#fe8019>...</span>
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#756d59">19</span><span>
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#756d59">20</span><span>    <span style=color:#fe8019>def</span> <span style=color:#fabd2f>share</span>(self, <span style=color:#fe8019>*</span>args, <span style=color:#fe8019>**</span>kwargs):
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#756d59">21</span><span>        <span style=color:#928374;font-style:italic># Share on Facebook</span>
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#756d59">22</span><span>        <span style=color:#fe8019>...</span>
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#756d59">23</span><span>
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#756d59">24</span><span>
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#756d59">25</span><span><span style=color:#fe8019>class</span> TwitterShare(AbstractSocialShare):
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#756d59">26</span><span>    <span style=color:#fe8019>def</span> __init__(self, <span style=color:#fe8019>*</span>args, <span style=color:#fe8019>**</span>kwargs):
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#756d59">27</span><span>        <span style=color:#928374;font-style:italic># Initialize Twitter OAuth</span>
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#756d59">28</span><span>        <span style=color:#fe8019>...</span>
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#756d59">29</span><span>
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#756d59">30</span><span>    <span style=color:#fe8019>def</span> <span style=color:#fabd2f>share</span>(self, <span style=color:#fe8019>*</span>args, <span style=color:#fe8019>**</span>kwargs):
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#756d59">31</span><span>        <span style=color:#928374;font-style:italic># Share on Twitter</span>
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#756d59">32</span><span>        <span style=color:#fe8019>...</span>
</span></span></code></pre></div><p>Try creating an object of the abstract class with:</p><div class=highlight><pre tabindex=0 style=color:#ebdbb2;background-color:#282828;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#756d59">1</span><span>obj <span style=color:#fe8019>=</span> AbstractSocialShare()
</span></span></code></pre></div><p>You will receive a TypeError.</p><p>Now try creating and instantiating this class:</p><div class=highlight><pre tabindex=0 style=color:#ebdbb2;background-color:#282828;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#756d59">1</span><span><span style=color:#fe8019>class</span> IncorrectShare(AbstractSocialShare):
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#756d59">2</span><span>    <span style=color:#fe8019>def</span> __init__(self, <span style=color:#fe8019>*</span>args, <span style=color:#fe8019>**</span>kwargs):
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#756d59">3</span><span>        <span style=color:#fe8019>...</span>
</span></span></code></pre></div><p>Since IncorrectShare has not implemented the share method, we will not be able to instantiate it.</p><p>How do we take care of the ugly if-elif chain? Thats where the Factory pattern comes in.</p><div class=highlight><pre tabindex=0 style=color:#ebdbb2;background-color:#282828;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#756d59"> 1</span><span><span style=color:#fe8019>class</span> SocialShareFactory(<span style=color:#fabd2f>object</span>):
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#756d59"> 2</span><span>    __share_classes <span style=color:#fe8019>=</span> {
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#756d59"> 3</span><span>        <span style=color:#b8bb26>&#34;facebook&#34;</span>: FacebookShare,
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#756d59"> 4</span><span>        <span style=color:#b8bb26>&#34;twitter&#34;</span>: TwitterShare
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#756d59"> 5</span><span>    }
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#756d59"> 6</span><span>
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#756d59"> 7</span><span>    @staticmethod
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#756d59"> 8</span><span>    <span style=color:#fe8019>def</span> <span style=color:#fabd2f>get_share_obj</span>(name, <span style=color:#fe8019>*</span>args, <span style=color:#fe8019>**</span>kwargs):
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#756d59"> 9</span><span>        share_class <span style=color:#fe8019>=</span> SocialShareFactory<span style=color:#fe8019>.</span>__share_classes<span style=color:#fe8019>.</span>get(name<span style=color:#fe8019>.</span>lower(), <span style=color:#fe8019>None</span>)
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#756d59">10</span><span>
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#756d59">11</span><span>        <span style=color:#fe8019>if</span> share_class:
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#756d59">12</span><span>            <span style=color:#fe8019>return</span> share_class(<span style=color:#fe8019>*</span>args, <span style=color:#fe8019>**</span>kwargs)
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#756d59">13</span><span>        <span style=color:#fe8019>raise</span> <span style=color:#fb4934>NotImplementedError</span>(<span style=color:#b8bb26>&#34;The requested sharing has not been implemented&#34;</span>)
</span></span></code></pre></div><p>The usage will be something like:</p><div class=highlight><pre tabindex=0 style=color:#ebdbb2;background-color:#282828;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#756d59">1</span><span>obj <span style=color:#fe8019>=</span> SocialShareFactory<span style=color:#fe8019>.</span>get_share_obj(<span style=color:#b8bb26>&#34;facebook&#34;</span>, <span style=color:#fe8019>*</span>args, <span style=color:#fe8019>**</span>kwargs)
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#756d59">2</span><span>
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#756d59">3</span><span>obj<span style=color:#fe8019>.</span>share(<span style=color:#b8bb26>&#34;Something&#34;</span>)
</span></span></code></pre></div><h2 id=conclusion>Conclusion</h2><p>Python is an interpreted language which supports and encourages duck typing. Abstract classes may seem superficial in such a language but as I have attempted to illustrate above, they vastly improve code maintainability and reuse.</p><p>Comments are welcome!</p></section><div class=post-tags><nav class="nav tags"><ul class=tags><li><a href=/tags/python>python</a></li><li><a href=/tags/development>development</a></li></ul></nav></div><div id=disqus_thread></div><script type=text/javascript>(function(){if(window.location.hostname=="localhost")return;var t,e=document.createElement("script");e.type="text/javascript",e.async=!0,t="the-janus-list",e.src="//"+t+".disqus.com/embed.js",(document.getElementsByTagName("head")[0]||document.getElementsByTagName("body")[0]).appendChild(e)})()</script><noscript>Please enable JavaScript to view the <a href=http://disqus.com/?ref_noscript>comments powered by
Disqus.</a></noscript><a href=http://disqus.com/ class=dsq-brlink>comments powered by <span class=logo-disqus>Disqus</span></a></article></main><footer><div style=display:flex><a class=soc href=https://github.com/j4nu5/ rel=me title=Github><i data-feather=github></i></a>
<span class=border></span><a class=soc href=https://bsky.app/profile/sinhak.dev rel=me title=Bluesky><i data-feather=twitter></i></a>
<span class=border></span><a class=soc href=https://www.linkedin.com/in/sinhakushagra/ rel=me title=LinkedIn><i data-feather=linkedin></i></a>
<span class=border></span></div><div class=footer-info>2024 © Kushagra Sinha</div></footer><script>feather.replace()</script></div></body></html>