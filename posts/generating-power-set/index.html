<!DOCTYPE html>
<html><head lang="en">
	<meta charset="utf-8" />
	<meta http-equiv="X-UA-Compatible" content="IE=edge"><title>Generating Power Set - The Janus List</title><link rel="icon" type="image/png" href=/images/favicon-32x32.png /><meta name="viewport" content="width=device-width, initial-scale=1">
	<meta name="description" content="Iterating over all possible subsets of a set is a problem that can arise not
only in competitive programming but also in day-to-day programming. While the
total number of possible subsets is quite huge (2^n where n is the
cardinality of the input set), often we want an algorithm that systematically
considers all subsets for small values of n.
A power set is a set of all subsets
of a given input set. Often we may want to simply iterate over all members of
the power set, but sometimes (if we have enough memory) we may need the power
set itself. In the following post, I have attempted to present some algorithms
(with C&#43;&#43;11 implementations) that solve both kinds of problems (simple
iteration and complete power set construction)." />
	<meta property="og:image" content=""/>
	<meta property="og:url" content="https://sinhak.dev/posts/generating-power-set/">
  <meta property="og:site_name" content="The Janus List">
  <meta property="og:title" content="Generating Power Set">
  <meta property="og:description" content="Iterating over all possible subsets of a set is a problem that can arise not only in competitive programming but also in day-to-day programming. While the total number of possible subsets is quite huge (2^n where n is the cardinality of the input set), often we want an algorithm that systematically considers all subsets for small values of n.
A power set is a set of all subsets of a given input set. Often we may want to simply iterate over all members of the power set, but sometimes (if we have enough memory) we may need the power set itself. In the following post, I have attempted to present some algorithms (with C&#43;&#43;11 implementations) that solve both kinds of problems (simple iteration and complete power set construction).">
  <meta property="og:locale" content="en_us">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2015-01-05T00:00:00+00:00">
    <meta property="article:modified_time" content="2015-01-05T00:00:00+00:00">
    <meta property="article:tag" content="Programming">
    <meta property="article:tag" content="Competitive Programming">

  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="Generating Power Set">
  <meta name="twitter:description" content="Iterating over all possible subsets of a set is a problem that can arise not only in competitive programming but also in day-to-day programming. While the total number of possible subsets is quite huge (2^n where n is the cardinality of the input set), often we want an algorithm that systematically considers all subsets for small values of n.
A power set is a set of all subsets of a given input set. Often we may want to simply iterate over all members of the power set, but sometimes (if we have enough memory) we may need the power set itself. In the following post, I have attempted to present some algorithms (with C&#43;&#43;11 implementations) that solve both kinds of problems (simple iteration and complete power set construction).">
<script src="https://cdn.jsdelivr.net/npm/feather-icons/dist/feather.min.js"></script>
	<link href="https://fonts.googleapis.com/css2?family=IBM+Plex+Mono:ital,wght@1,500&display=swap" rel="stylesheet">
        <link href="https://fonts.googleapis.com/css2?family=Fira+Sans&display=swap" rel="stylesheet">
        <link href="https://fonts.googleapis.com/css?family=Roboto+Mono" rel="stylesheet">

	
	<link rel="stylesheet" type="text/css" media="screen" href="https://sinhak.dev/css/main.5cebd7d4fb2b97856af8d32a6def16164fcf7d844e98e236fcb3559655020373.css" />
		<link id="darkModeStyle" rel="stylesheet" type="text/css" href="https://sinhak.dev/css/dark.d22e2a2879d933a4b781535fc4c4c716e9f9d35ea4986dd0cbabda82effc4bdd.css"  disabled />
	

	
	

	
	

	
</head>
<body>
        <div class="content"><header>
	<div class="main">
		<a href="https://sinhak.dev/">The Janus List</a>
	</div>
	<nav>
		
		<a href="/posts/">articles</a>
		
		<a href="/about/">about</a>
		
		| <a id="dark-mode-toggle" onclick="toggleTheme()"></a>
		<script src="https://sinhak.dev/js/themetoggle.js"></script>
		
	</nav>
</header>

<main>
	<article>
		<div class="title">
			<h1 class="title">Generating Power Set</h1>
			<div class="meta">Posted on Jan 5, 2015</div>
		</div>
		

		

		<section class="body">
			<p>Iterating over all possible subsets of a set is a problem that can arise not
only in competitive programming but also in day-to-day programming. While the
total number of possible subsets is quite huge (<em>2^n</em> where <em>n</em> is the
cardinality of the input set), often we want an algorithm that systematically
considers all subsets for small values of <em>n</em>.</p>
<p>A <a href="http://en.wikipedia.org/wiki/Power_set">power set</a> is a set of all subsets
of a given input set. Often we may want to simply iterate over all members of
the power set, but sometimes (if we have enough memory) we may need the power
set itself. In the following post, I have attempted to present some algorithms
(with C++11 implementations) that solve both kinds of problems (simple
iteration and complete power set construction).</p>
<h2 id="recursive-algorithm-for-power-set-generation">Recursive algorithm for power set generation</h2>
<p>Power set generation is a problem that yields naturally to a recursive
algorithm. Consider a set say, $\lbrace 1, 2, 3, 4 \rbrace$. If we had a
function that can generate the power set, $\mathbb{S}$, of
$\lbrace 2, 3, 4 \rbrace$ we can generate the power set of the original
input set by appending 1 to each member of $\mathbb{S}$ (call the result
$\mathbb{T}$) and then taking the union of $\mathbb{S}$ and
$\mathbb{T}$.</p>
<p>As an example, let us try generating the powerset of $\lbrace 1, 2, 3 \rbrace$.
The power set of $\lbrace 2, 3 \rbrace, \mathbb{S},$ is
$\lbrace \phi, \lbrace 2 \rbrace , \lbrace 3 \rbrace , \lbrace 2, 3 \rbrace  \rbrace$.
Adding $1$ to each member of $\mathbb{S}$, gives us, $\mathbb{T}$,
$\lbrace \lbrace 1 \rbrace, \lbrace 1, 2 \rbrace, \lbrace 1, 3 \rbrace, \lbrace 1, 2, 3 \rbrace \rbrace$.
Union of $\mathbb{S}$ and $\mathbb{T}$ gives us the required answer:
$\lbrace \phi, \lbrace 2 \rbrace , \lbrace 3 \rbrace , \lbrace 2, 3 \rbrace, \lbrace 1 \rbrace, \lbrace 1, 2 \rbrace, \lbrace 1, 3 \rbrace, \lbrace 1, 2, 3 \rbrace \rbrace$.</p>
<p>Translating the above idea to code (C++11):</p>
<div class="highlight"><pre tabindex="0" style="color:#ebdbb2;background-color:#282828;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#756d59"> 1</span><span><span style="color:#928374;font-style:italic">// Accepts a set of integers and optionally a position to start reading the
</span></span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#756d59"> 2</span><span><span style="color:#928374;font-style:italic">// array from.
</span></span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#756d59"> 3</span><span><span style="color:#928374;font-style:italic">// Returns the powerset of integers from arr [pos=0 ... arr.size()-1]
</span></span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#756d59"> 4</span><span><span style="color:#928374;font-style:italic"></span>vector<span style="color:#fe8019">&lt;</span> vector<span style="color:#fe8019">&lt;</span><span style="color:#fabd2f">int</span><span style="color:#fe8019">&gt;</span> <span style="color:#fe8019">&gt;</span> powerset1(<span style="color:#fe8019">const</span> vector<span style="color:#fe8019">&lt;</span><span style="color:#fabd2f">int</span><span style="color:#fe8019">&gt;</span> <span style="color:#fe8019">&amp;</span>arr, <span style="color:#fabd2f">int</span> pos<span style="color:#fe8019">=</span><span style="color:#d3869b">0</span>) {
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#756d59"> 5</span><span>    <span style="color:#fabd2f">int</span> arr_size <span style="color:#fe8019">=</span> arr.size();
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#756d59"> 6</span><span>    vector<span style="color:#fe8019">&lt;</span> vector<span style="color:#fe8019">&lt;</span><span style="color:#fabd2f">int</span><span style="color:#fe8019">&gt;</span> <span style="color:#fe8019">&gt;</span> results;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#756d59"> 7</span><span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#756d59"> 8</span><span>    <span style="color:#fe8019">if</span> (pos <span style="color:#fe8019">&gt;=</span> arr_size) {
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#756d59"> 9</span><span>        <span style="color:#928374;font-style:italic">// Recursion base case
</span></span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#756d59">10</span><span><span style="color:#928374;font-style:italic"></span>        results.push_back(vector<span style="color:#fe8019">&lt;</span><span style="color:#fabd2f">int</span><span style="color:#fe8019">&gt;</span>());
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#756d59">11</span><span>        <span style="color:#fe8019">return</span> results;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#756d59">12</span><span>    }
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#756d59">13</span><span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#756d59">14</span><span>    vector<span style="color:#fe8019">&lt;</span> vector<span style="color:#fe8019">&lt;</span><span style="color:#fabd2f">int</span><span style="color:#fe8019">&gt;</span> <span style="color:#fe8019">&gt;</span> rest <span style="color:#fe8019">=</span> powerset1(arr, pos<span style="color:#fe8019">+</span><span style="color:#d3869b">1</span>);
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#756d59">15</span><span>    results <span style="color:#fe8019">=</span> rest;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#756d59">16</span><span>    <span style="color:#fe8019">for</span> (<span style="color:#fe8019">auto</span> <span style="color:#fe8019">&amp;</span><span style="color:#fb4934">subset</span> : rest) {
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#756d59">17</span><span>        subset.push_back(arr[pos]);
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#756d59">18</span><span>        results.push_back(subset);
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#756d59">19</span><span>    }
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#756d59">20</span><span>    <span style="color:#fe8019">return</span> results;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#756d59">21</span><span>}
</span></span></code></pre></div><p>I have assumed a set of integers that do not have duplicates. The code can be
easily modified to accept other datatypes or maybe templates. If the vector has
duplicate elements, just copy and deduplicate it before passing.</p>
<p>Since this method returns the complete power set, the space complexity is of the
order of <em>2 ^ n</em>. The time complexity is exponential.</p>
<h2 id="iterative-algorithm-same-idea">Iterative algorithm, same idea</h2>
<div class="highlight"><pre tabindex="0" style="color:#ebdbb2;background-color:#282828;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#756d59"> 1</span><span>vector<span style="color:#fe8019">&lt;</span> vector<span style="color:#fe8019">&lt;</span><span style="color:#fabd2f">int</span><span style="color:#fe8019">&gt;</span> <span style="color:#fe8019">&gt;</span> powerset2(<span style="color:#fe8019">const</span> vector<span style="color:#fe8019">&lt;</span><span style="color:#fabd2f">int</span><span style="color:#fe8019">&gt;</span> <span style="color:#fe8019">&amp;</span>arr) {
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#756d59"> 2</span><span>    <span style="color:#fabd2f">int</span> arr_size <span style="color:#fe8019">=</span> arr.size();
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#756d59"> 3</span><span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#756d59"> 4</span><span>    vector<span style="color:#fe8019">&lt;</span> vector<span style="color:#fe8019">&lt;</span><span style="color:#fabd2f">int</span><span style="color:#fe8019">&gt;</span> <span style="color:#fe8019">&gt;</span> pset;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#756d59"> 5</span><span>    pset.push_back(vector<span style="color:#fe8019">&lt;</span><span style="color:#fabd2f">int</span><span style="color:#fe8019">&gt;</span>());
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#756d59"> 6</span><span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#756d59"> 7</span><span>    <span style="color:#fe8019">for</span> (<span style="color:#fabd2f">int</span> pos <span style="color:#fe8019">=</span> <span style="color:#d3869b">0</span>; pos <span style="color:#fe8019">&lt;</span> arr_size; pos<span style="color:#fe8019">++</span>) {
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#756d59"> 8</span><span>        vector<span style="color:#fe8019">&lt;</span> vector<span style="color:#fe8019">&lt;</span><span style="color:#fabd2f">int</span><span style="color:#fe8019">&gt;</span> <span style="color:#fe8019">&gt;</span> tmp(pset);
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#756d59"> 9</span><span>        <span style="color:#fe8019">for</span> (<span style="color:#fe8019">auto</span> <span style="color:#fe8019">&amp;</span><span style="color:#fb4934">subset</span> : tmp)
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#756d59">10</span><span>            subset.push_back(arr[pos]);
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#756d59">11</span><span>        copy(tmp.begin(), tmp.end(), back_inserter(pset));
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#756d59">12</span><span>    }
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#756d59">13</span><span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#756d59">14</span><span>    <span style="color:#fe8019">return</span> pset;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#756d59">15</span><span>}
</span></span></code></pre></div><h2 id="iterating-over-power-set-using-a-bitmask-lexical-ordering">Iterating over power set, using a bitmask (lexical ordering)</h2>
<p>We can use a bitmask of length = size of input set to denote a subset choice.
For example, a selection of {1, 2} in {1, 2, 3, 4} can be denoted by 0011,
where the LSB (least significant bit) denotes 0th index and MSB denotes the
highest possible index (<em>arr.size() - 1</em>). $\phi$ is denoted by 0000 and a
selection of all integers is denoted by 1111.</p>
<p>According to this idea, each set in the powerset can be represented by a bitmask.
Therefore, iterating over all possible bitmasks will do the trick. Note that
all possible bitmasks of length <em>n</em> is simply [0 &hellip; 2^n - 1].</p>
<p>This solution is sufficient for most practical applications running on a single
computer. I am going to use a 64-bit unsigned long long for this. If you have a
set bigger than this, you cannot do it in a reasonable amount of time on a
single machine.</p>
<div class="highlight"><pre tabindex="0" style="color:#ebdbb2;background-color:#282828;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#756d59"> 1</span><span><span style="color:#fabd2f">void</span> <span style="color:#fabd2f">powerset3</span>(<span style="color:#fe8019">const</span> vector<span style="color:#fe8019">&lt;</span><span style="color:#fabd2f">int</span><span style="color:#fe8019">&gt;</span> <span style="color:#fe8019">&amp;</span>arr) {
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#756d59"> 2</span><span>    <span style="color:#fabd2f">int</span> arr_size <span style="color:#fe8019">=</span> arr.size();
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#756d59"> 3</span><span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#756d59"> 4</span><span>    <span style="color:#fabd2f">unsigned</span> <span style="color:#fabd2f">long</span> <span style="color:#fabd2f">long</span> lim <span style="color:#fe8019">=</span> (<span style="color:#d3869b">1</span> <span style="color:#fe8019">&lt;&lt;</span> arr_size) <span style="color:#fe8019">-</span> <span style="color:#d3869b">1</span>;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#756d59"> 5</span><span>    <span style="color:#fe8019">for</span> (<span style="color:#fabd2f">unsigned</span> <span style="color:#fabd2f">long</span> <span style="color:#fabd2f">long</span> i <span style="color:#fe8019">=</span> <span style="color:#d3869b">0</span>; i <span style="color:#fe8019">&lt;=</span> lim; i<span style="color:#fe8019">++</span>) {
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#756d59"> 6</span><span>        <span style="color:#fabd2f">unsigned</span> <span style="color:#fabd2f">long</span> <span style="color:#fabd2f">long</span> mask <span style="color:#fe8019">=</span> i;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#756d59"> 7</span><span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#756d59"> 8</span><span>        <span style="color:#fe8019">for</span> (<span style="color:#fabd2f">int</span> idx <span style="color:#fe8019">=</span> <span style="color:#d3869b">0</span>; idx <span style="color:#fe8019">&lt;</span> <span style="color:#fe8019">sizeof</span>(mask) <span style="color:#fe8019">*</span> <span style="color:#d3869b">8</span>; idx<span style="color:#fe8019">++</span>) {
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#756d59"> 9</span><span>            <span style="color:#fe8019">if</span> ((mask <span style="color:#fe8019">&gt;&gt;</span> idx) <span style="color:#fe8019">&amp;</span> <span style="color:#d3869b">1</span>)
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#756d59">10</span><span>                cout <span style="color:#fe8019">&lt;&lt;</span> arr[idx] <span style="color:#fe8019">&lt;&lt;</span> <span style="color:#b8bb26">&#34; &#34;</span>;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#756d59">11</span><span>        }
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#756d59">12</span><span>        cout <span style="color:#fe8019">&lt;&lt;</span> <span style="color:#b8bb26">&#34;</span><span style="color:#b8bb26">\n</span><span style="color:#b8bb26">&#34;</span>;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#756d59">13</span><span>    }
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#756d59">14</span><span>}
</span></span></code></pre></div><h2 id="iterating-over-power-set-using-bankers-sequence">Iterating over power set, using banker&rsquo;s sequence</h2>
<p>Using <a href="http://applied-math.org/subset.pdf">banker&rsquo;s sequence</a> we can generate
subsets in a monotonically increasing order of cardinality. Depending on your
use case, it may be extremely useful. The idea is to use a bitmask as before
but we will consider all bitmasks with set bits = k before we consider any
mask with set bits &gt; k.</p>
<div class="highlight"><pre tabindex="0" style="color:#ebdbb2;background-color:#282828;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#756d59"> 1</span><span><span style="color:#fabd2f">void</span> <span style="color:#fabd2f">powerset4</span>(<span style="color:#fe8019">const</span> vector<span style="color:#fe8019">&lt;</span><span style="color:#fabd2f">int</span><span style="color:#fe8019">&gt;</span> <span style="color:#fe8019">&amp;</span>arr) {
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#756d59"> 2</span><span>    <span style="color:#fabd2f">int</span> arr_size <span style="color:#fe8019">=</span> arr.size();
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#756d59"> 3</span><span>    vector<span style="color:#fe8019">&lt;</span><span style="color:#fabd2f">bool</span><span style="color:#fe8019">&gt;</span> mask(arr_size, <span style="color:#fabd2f">false</span>);
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#756d59"> 4</span><span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#756d59"> 5</span><span>    <span style="color:#fe8019">for</span> (<span style="color:#fabd2f">int</span> i <span style="color:#fe8019">=</span> <span style="color:#d3869b">0</span>; i <span style="color:#fe8019">&lt;=</span> arr_size; i<span style="color:#fe8019">++</span>) {
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#756d59"> 6</span><span>        fill(mask.begin(), mask.end()<span style="color:#fe8019">-</span>i, <span style="color:#fabd2f">false</span>);
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#756d59"> 7</span><span>        fill(mask.end()<span style="color:#fe8019">-</span>i, mask.end(), <span style="color:#fabd2f">true</span>);
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#756d59"> 8</span><span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#756d59"> 9</span><span>        <span style="color:#fe8019">do</span> {
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#756d59">10</span><span>            <span style="color:#fe8019">for</span> (<span style="color:#fabd2f">int</span> j <span style="color:#fe8019">=</span> <span style="color:#d3869b">0</span>; j <span style="color:#fe8019">&lt;</span> arr_size; j<span style="color:#fe8019">++</span>) {
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#756d59">11</span><span>                <span style="color:#fe8019">if</span> (mask[j])
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#756d59">12</span><span>                    cout <span style="color:#fe8019">&lt;&lt;</span> arr[j] <span style="color:#fe8019">&lt;&lt;</span> <span style="color:#b8bb26">&#34; &#34;</span>;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#756d59">13</span><span>            }
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#756d59">14</span><span>            cout <span style="color:#fe8019">&lt;&lt;</span> <span style="color:#b8bb26">&#34;</span><span style="color:#b8bb26">\n</span><span style="color:#b8bb26">&#34;</span>;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#756d59">15</span><span>        } <span style="color:#fe8019">while</span>(next_permutation(mask.begin(), mask.end()));
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#756d59">16</span><span>    }
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#756d59">17</span><span>}
</span></span></code></pre></div><h2 id="conclusion">Conclusion</h2>
<p>As Donald Knuth once remarked, there seems to be as many algorithms for
unsorting data as there are for sorting it. There are many approaches and
algorithms for power set generation. I hope I have provided a decent coverage
of the most popular ones.</p>
<p>As always, comments are welcome.</p>

		</section>

		<div class="post-tags">
			
			
			<nav class="nav tags">
				<ul class="tags">
					
					<li><a href="/tags/programming">programming</a></li>
					
					<li><a href="/tags/competitive-programming">competitive programming</a></li>
					
				</ul>
			</nav>
			
			
		</div>
		<div id="disqus_thread"></div>
<script type="text/javascript">
    (function () {
        
        
        if (window.location.hostname == "localhost")
            return;

        var dsq = document.createElement('script');
        dsq.type = 'text/javascript';
        dsq.async = true;
        var disqus_shortname = 'the-janus-list';
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by
        Disqus.</a></noscript>
<a href="http://disqus.com/" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
</article>
</main>
<footer>
  <div style="display:flex"><a class="soc" href="https://github.com/j4nu5/" rel="me" title="Github"><i data-feather="github"></i></a>
    <span class="border"></span><a class="soc" href="https://twitter.com/j4nu5/" rel="me" title="Twitter"><i data-feather="twitter"></i></a>
    <span class="border"></span><a class="soc" href="https://www.linkedin.com/in/sinhakushagra/" rel="me" title="LinkedIn"><i data-feather="linkedin"></i></a>
    <span class="border"></span></div>
  <div class="footer-info">
    2024  © Kushagra Sinha 
  </div>
</footer>


<script>
  feather.replace()
</script></div>
    </body>
</html>
